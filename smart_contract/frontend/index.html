<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DASI Gov - DAO de Governan√ßa</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üèõÔ∏è DASI Gov</h1>
            <p class="subtitle">Governan√ßa Estudantil Descentralizada</p>
            <div id="navigation-buttons" style="margin-top: 15px; display: none;">
                <a href="admin.html" id="admin-nav-btn" class="btn btn-secondary" style="text-decoration: none; display: none; margin: 5px;">
                    ‚öôÔ∏è √Årea Admin
                </a>
            </div>
        </header>

        <!-- Se√ß√£o de Conex√£o -->
        <section class="card" id="connection-section">
            <h2>Conectar Carteira</h2>
            <div class="connection-info">
                <p id="account-display">N√£o conectado</p>
                <button id="connect-btn" class="btn btn-primary">Conectar MetaMask</button>
                <button id="disconnect-btn" class="btn btn-secondary" style="display: none;">Desconectar</button>
            </div>
            <div id="token-balance" class="balance-display" style="display: none;">
                <p><strong>Saldo de $DASI:</strong> <span id="balance-amount">0</span></p>
            </div>
        </section>

        <!-- Se√ß√£o de Propostas -->
        <section class="card" id="proposals-section" style="display: none;">
            <h2>Propostas</h2>
            
            <!-- Criar Nova Proposta -->
            <div class="create-proposal">
                <h3>Criar Nova Proposta</h3>
                <div class="proposal-type-selector" id="proposal-type-selector">
                    <label>
                        <input type="radio" name="proposal-type" value="simple" checked>
                        Proposta Simples (A Favor/Contra/Abster)
                    </label>
                    <label id="multi-option-label" style="display: none;">
                        <input type="radio" name="proposal-type" value="multi">
                        Vota√ß√£o com M√∫ltiplas Op√ß√µes (Chapas/Pessoas) - Apenas Presidentes
                    </label>
                </div>
                <textarea id="proposal-description" placeholder="Descreva sua proposta aqui..." rows="4"></textarea>
                
                <!-- Op√ß√µes para proposta com m√∫ltiplas op√ß√µes -->
                <div id="multi-options-container" style="display: none;">
                    <h4>Op√ß√µes de Vota√ß√£o (Chapas/Pessoas):</h4>
                    <div id="options-list">
                        <div class="option-input">
                            <input type="text" class="option-field" placeholder="Nome da Chapa/Pessoa 1" required>
                            <button type="button" class="btn btn-danger remove-option-btn" onclick="this.parentElement.remove()" style="display: none;">Remover</button>
                        </div>
                        <div class="option-input">
                            <input type="text" class="option-field" placeholder="Nome da Chapa/Pessoa 2" required>
                            <button type="button" class="btn btn-danger remove-option-btn" onclick="this.parentElement.remove()">Remover</button>
                        </div>
                    </div>
                    <button type="button" id="add-option-btn" class="btn btn-secondary">+ Adicionar Mais Op√ß√£o</button>
                    <p style="font-size: 0.9em; color: #718096; margin-top: 10px;">
                        <strong>Nota:</strong> A op√ß√£o "Nulo" ser√° adicionada automaticamente na vota√ß√£o.
                    </p>
                </div>
                
                <button id="create-proposal-btn" class="btn btn-primary">Criar Proposta</button>
            </div>

            <!-- Lista de Propostas -->
            <div class="proposals-list">
                <h3>Propostas Ativas</h3>
                <div id="proposals-container">
                    <p class="loading">Carregando propostas...</p>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Informa√ß√µes -->
        <section class="card" id="info-section" style="display: none;">
            <h2>Informa√ß√µes da DAO</h2>
            <div class="info-grid">
                <div class="info-item">
                    <strong>Qu√≥rum:</strong>
                    <span id="quorum-info">-</span>
                </div>
                <div class="info-item">
                    <strong>Per√≠odo de Vota√ß√£o:</strong>
                    <span id="voting-period-info">-</span>
                </div>
                <div class="info-item">
                    <strong>Total de Propostas:</strong>
                    <span id="total-proposals">-</span>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal de Vota√ß√£o -->
    <div id="vote-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Votar na Proposta</h2>
            <div id="proposal-details"></div>
            <div class="vote-options">
                <button class="btn btn-success" onclick="castVote(1)">üëç A Favor</button>
                <button class="btn btn-danger" onclick="castVote(2)">üëé Contra</button>
                <button class="btn btn-secondary" onclick="castVote(3)">ü§∑ Abster</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="js/session.js"></script>
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/access-control.js"></script>
    <script src="js/app.js"></script>
</body>
</html>

